<!DOCTYPE html>

<link rel="import" href="../../bower_components/polymer/polymer.html">

<<dom-module id="ge-img">
    <style>
        :host {
            display: block;
        }

        div {
            width: 100%;
            height: 100%;
            text-align: center;
        }

        img {
            width: 100%;
            height: 100%;
        }

        span {
            position: relative;
            top: 50%;
            color: black;
            display: inline-block;
        }
    </style>
    <template>
        <div>
            <template is="dom-if" if="[[hasImage]]">
                <img src="[[image]]">
            </template>
            <template is="dom-if" if="[[!hasImage]]">
                <span>[[text]]</span>
            </template>
        </div>
    </template>
    <script>
        Polymer({
            is: "ge-img",

            properties: {
                src: String,
                altSrc: String,
                altText: String,
            },

            ready: function() {
                this.set('hasImage', true);

                if (validatorModule.isUrlValid(this.src)) {
                    this.set('image', this.src);
                    return;
                }

                if (!validatorModule.isNullOrEmpty(this.altSrc)) {
                    this.set('image', this.altSrc);
                    return;
                }

                this.set('hasImage', false);

                if (!validatorModule.isNullOrEmpty(this.altText)) {
                    this.set('text', this.altText);
                    return;
                }

                this.set('text', "No image set");
            }
        });
    </script>
    </dom-module>
