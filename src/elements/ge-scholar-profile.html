<!DOCTYPE html>

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="ge-round-img.html">
<link rel="import" href="ge-scholar-social-links.html">

<dom-module id="ge-scholar-profile">
    <template>
        <style is="custom-style" include="iron-flex iron-flex-alignment">
            :host {
                width: 100%;
                height: 100%;
                padding-bottom: 20px;
            }

            .body-section {
                float: left;
                position: relative;
                width: 100%;
                padding: 0;
                background-color: var(--app-color-white);
            }

            .story-section {
                min-height: 500px;
            }

            .story-section > h1 {
                position: relative;
                left: 50px;
                top: 30px;
                text-align: left;
                margin-bottom: 50px;
                color: var(--app-color-white);
            }

            .body-section a,
            .body-section a,
            .body-section p,
            .body-section p,
            .body-section span,
            .body-section span {
                color: var(--app-color-white);
            }

            #profile-header {
                height: 40%;
                background-color: var(--app-color-blue);
            }

            #profile-header .header-item {
                font-size: 17px;
                margin: 5px;
                padding: 0;
            }

            #profile-header #social-links {
                position: absolute;
                left: 10px;
                top: 10px;
            }

            #profile-header #profile-picture {
                width: 200px;
                height: 200px;
                display: inline-block;
                margin-top: 25px;
            }

            #profile-header #scholar-name {
                font-size: 30px;
                margin-bottom: 10px;
                color: var(--app-color-white);
            }

            #bio-section {
                background-color: var(--app-color-gray);
                text-align: center;
                padding-bottom: 5%;
            }

            #bio-section > span {
                float: inherit;
                white-space: pre-wrap;
                font-size: 20px;
                max-width: 90%;
                margin-top: 5%;
                margin-left: 5%;
            }

            #personal-section {
                background-color: var(--app-color-blue);
            }

            #interests-section {
                background-color: var(--app-color-gray);
            }

            #projects-section {
                background-color: var(--app-color-blue);
            }

            #education-section {
                background-color: var(--app-color-gray);
            }

            #work-section {
                background-color: var(--app-color-blue);
            }

        </style>

        <paper-material class="body-section" id="profile-header" layout vertical center>
            <ge-round-img class="header-item" id="profile-picture" src="[[scholar.profilePicture]]" alt-src="[[_genericPersonImage(scholar.sex)]]"></ge-round-img>
            <ge-scholar-social-links id="social-links" scholar="[[scholar]]"></ge-scholar-social-links>
            <h1 class="header-item" id="scholar-name">[[scholar.fullName]]</h1>
            <a class="header-item" id="scholar-email" href="mailto:[[scholar.email]]">[[scholar.email]]</a>
            <p class="header-item">[[scholar.motto]]</p>
        </paper-material>
        <template is="dom-if" if="[[_shouldDisplayBio(scholar)]]">
            <paper-material class="body-section story-section" id="bio-section" layout vertical center>
                <span>[[scholar.bio]]</span>
            </paper-material>
        </template>
        <template is="dom-if" if="[[_shouldDisplayPersonal(scholar)]]">
            <paper-material class="body-section story-section" id="personal-section" layout vertical left>
                <h1>Personal information</h1>
            </paper-material>
        </template>
        <template is="dom-if" if="[[_shouldDisplayInterests(scholar)]]">
            <paper-material class="body-section story-section" id="interests-section" layout vertical left>
                <h1>My interests</h1>
            </paper-material>
        </template>
        <template is="dom-if" if="[[_shouldDisplayProjects(scholar)]]">
            <paper-material class="body-section story-section" id="projects-section" layout vertical left>
                <h1>My projects</h1>
            </paper-material>
        </template>
        <template is="dom-if" if="[[_shouldDisplayEducation(scholar)]]">
            <paper-material class="body-section story-section" id="education-section" layout vertical left>
                <h1>My education</h1>
            </paper-material>
        </template>
        <template is="dom-if" if="[[_shouldDisplayWorkExperience()]]">
            <paper-material class="body-section story-section" id="work-section" layout vertical left>
                <h1>My work experience</h1>
            </paper-material>
        </template>
    </template>
    <script>
        Polymer({
            is: 'ge-scholar-profile',

            properties: {
                scholar: Object
            },

            _genericPersonImage: function (sex) {
                return userModule.getGenericProfilePicture(sex);
            },

            _shouldDisplayBio(scholar) {
                return !validatorModule.isNullOrEmpty(scholar.bio);
            },

            _shouldDisplayPersonal(scholar) {
                return true;
            },

            _shouldDisplayInterests(scholar) {
                return true;
            },

            _shouldDisplayProjects(scholar) {
                return true;
            },

            _shouldDisplayEducation(scholar) {
                return true;
            },

            _shouldDisplayWorkExperience(scholar) {
                return true;
            }
        });
    </script>
</dom-module>
