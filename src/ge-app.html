<!DOCTYPE html>

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">

<dom-module id="ge-app">
    <template>
    <style>
      :host {
        display: block;
        --app-primary-color: #0088CC;
        --app-secondary-color: white;
      }

      app-header {
        background-color: var(--app-primary-color);
        color: var(--app-secondary-color);
      }
      
      app-header paper-icon-button {
        --paper-icon-button-ink-color: var(--app-secondary-color);
      }
      
      #nav-home {
          align-self: center;
          align-content: center;
          cursor: pointer;
          position: absolute;
          margin-top: 6px;
          margin-left: 2px;
      }
      
      .nav-home-item {
          position: absolute;
          align-self: center;
          height: 50px;
      }
      
      #nav-home-icon {
          width: 50px;
          left: 0px;
      }
      
      #nav-home-text {
          padding-left: 10px;
          margin-left: -10px;
          width: 166px;
          left: 60px;
          font-size: 33px;
      }
    </style>

    <app-location route="{{route}}"></app-location>
    <app-route
        route="{{route}}"
        pattern="/:page"
        data="{{routeData}}"
        tail="{{subroute}}">
    </app-route>
    
    <app-drawer>
        <app-header-layout has-scrolling-region>
        
            <app-header condenses reveals effects="waterfall">
                <app-toolbar>
                    <div id="nav-home" on-tap="navigateToHomePage">
                        <img id="nav-home-icon" class="nav-home-item" src="../images/ge-logo.png"/>
                        <div id="nav-home-text" class="nav-home-item">GE Allstars</div>
                    </div>
                </app-toolbar>
            </app-header>
        
        
            <iron-pages role="main" selected="[[page]]" attr-for-selected="name">
                  <ge-landing-page name="landing-page"></ge-landing-page>
            </iron-pages>
            
        </app-header-layout>
    </app-drawer>
        
  </template>

    <script>
        Polymer({
            is: 'ge-app',

            properties: {
                page: {
                    type: String,
                    reflectToAttribute: true,
                    observer: '_pageChanged'
                },
            },

            observers: [
                '_routePageChanged(routeData.page)'
            ],

            _routePageChanged: function(page) {
                this.page = page || 'landing-page';
            },

            // load page import on demand.
            _pageChanged: function(page) {
                this.importHref(this.resolveUrl('ge-' + page + '.html'), null, null, true);
            },

            navigateToHomePage: function() {
                this.page = 'landing-page';
            },
        });
    </script>

</dom-module>